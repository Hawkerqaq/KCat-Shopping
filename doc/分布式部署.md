### 

目前使用本地环境进行部署，启动：rabbitMQ，nginx，redis，zookeeper

修改host

tomcat启动多个项目基本没有太大压力，但是由于多个页面首页可能存在冲突，还是要分开多个tomcat来，修改配置文件。

### 

---





### taotao-manage

修改taotao-manage配置文件

1. env.properties   

   数据库地址改为同一个

2. rabbitmq.properties   

   修改其地址

3. redis.properties

tomcat启动，  ip:port/rest/page/index  

### rabbitMQ   

能够ping主机才能启动，修改host:  vim /etc/hosts，添加``127.0.0.1 itcast01``  

上传rabbit ，启动，查看状态   

启动管理工具命令，重启``service rabbitmq-server restart``

需要开放端口之后就能远程登陆

guest，guest进行访问

登陆失败。开通远程登陆权限，修改rabbit配置文件

重启服务，即可登陆

内部操作：admin中创建用户taotao，taotao，administrator。在Virtual hosts中添加需host为taotao，并且授权Set permision，即可用taotao用户登录了

### dubbo-monitor   

进入conf中，修改dubbo.properties   

修改注册中心的地址，修改jetty.port为8088

启动即可直接访问

### taotao-web-1

env.properties默认地址   

rabbitMQ

redis

dubbo中的配置文件

（启动会受到sso-query的牵制，其没启动会报错）  

 添加host   192.168.50.23 manage.taotao.com

首页就可以正常访问了

###taotao-SSO-query  

打开redis.properties有文件冲突，用``ll -a``查看所有文件，删除其相关的冲突文件（.开头的）,即可成功打开redis.properties。

dubbo-admin显示没有提供者，dubbo的配置文件20880暴露端口，没有开启被访问的权限。

启动tomcat



### nginx

修改配置文件   

访问域名

1.修改本地host     switchHosts   域名转发ip





视频14



---



12天视频10粗略跳过：

SOA：面向服务的架构   

WebService：系统之间通过接口调用

redis，nosql，solr，nginx

Mysql分布分表中间件：cobar，实现集群，现在叫MyCat

一个ip要访问多个服务，需要反向代理，用nginx。



Nginx：   

图片服务器，负载均衡。  

虚拟主机：根据域名对访问进行区分。     

反向代理：我访问这个网站，哪个服务器来为我服务。决定请求转发给哪个服务器。   



nginx需要进行编译安装，linux的操作。

通过修改host文件可以设置访问的域名。   

   

13天视频粗略过   

一个虚拟机启动两个tomcat，关闭防火墙，就可以进行访问。   

配置nginx的host，让一个80端口被多个服务器使用。    

这样就可以通过域名访问到tomcat    

配置对访问的域名拦截，然后进行转发给别的服务器。nginx实际就是做拦截转发的功能。      



同一个域名多台服务器提供服务，需要nginx的负载均衡。

根据服务器的性能调整访问的权重。    

nginx高可用，单点故障很危险。解决方案：添加冗余，加备份机。备份机实时监控备机，使用keepalived：不断对主服务器nginx进行健康检查。   

主机挂了之后，备用机把虚拟ip绑定到自己身上，保持网站正常访问。   



solr集群   

SolrCloud提供分布式搜索方案   





ZooKeeper是一个程序协调服务：

配置管理，集群管理







   



   









